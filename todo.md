# 📋 TODO List - سیستم ERP مبلمان تهران

## 🎯 **هدف پروژه:**
سیستم ERP یکپارچه برای مجموعه تولید و پخش مبلمان و اکسسوری با قابلیت‌های سفارشی‌سازی، مدیریت تولید، فروش، نمایندگی‌ها و خدمات پس از فروش

## 🛠 **تکنولوژی‌های استفاده شده:**
- **Frontend & Backend:** Next.js 14 (App Router)
- **Database:** PostgreSQL
- **ORM:** Prisma
- **Authentication:** JWT + bcrypt
- **UI Framework:** Bootstrap 5
- **Workflow Engine:** n8n (سرور جداگانه)
- **Deployment:** Liara (Node.js)
- **Language:** TypeScript
- **Notifications:** notifr
- **Alerts:** SweetAlert2

## 📝 **مراحل توسعه:**

### ✅ **مرحله 1: راه‌اندازی پروژه**
- [ ] ایجاد پروژه Next.js با TypeScript
- [ ] نصب و تنظیم Prisma
- [ ] اتصال به PostgreSQL
- [ ] تنظیم ESLint و Prettier
- [ ] ایجاد ساختار پوشه‌ها

### ✅ **مرحله 2: طراحی دیتابیس**
- [ ] طراحی Schema برای کاربران و نقش‌ها
- [ ] طراحی Schema برای محصولات و سفارشی‌سازی
- [ ] طراحی Schema برای سفارشات و مراحل تولید
- [ ] طراحی Schema برای نمایندگی‌ها و واسطه‌ها
- [ ] طراحی Schema برای خدمات پس از فروش
- [ ] طراحی Schema برای منابع انسانی
- [ ] ایجاد Migration ها

### ✅ **مرحله 3: سیستم احراز هویت**
- [ ] پیاده‌سازی JWT Authentication
- [ ] استفاده از bcrypt برای هش کردن پسوردها
- [ ] تعریف نقش‌ها (Admin, Manager, Employee, Customer, Dealer)
- [ ] ایجاد Middleware برای کنترل دسترسی
- [ ] طراحی صفحات Login/Register
- [ ] مدیریت Token ها و Refresh Token

### ✅ **مرحله 4: API Routes**
- [ ] API برای مدیریت کاربران
- [ ] API برای محصولات و سفارشی‌سازی
- [ ] API برای سفارشات
- [ ] API برای تولید و انبار
- [ ] API برای نمایندگی‌ها
- [ ] API برای خدمات پس از فروش
- [ ] API برای منابع انسانی

### ✅ **مرحله 5: کامپوننت‌های UI**
- [ ] Layout اصلی با Bootstrap 5
- [ ] Sidebar Navigation
- [ ] Dashboard Components
- [ ] Form Components
- [ ] Table Components
- [ ] Modal Components
- [ ] Notification System (notifr)

### ✅ **مرحله 6: صفحات اصلی**
- [ ] Dashboard
- [ ] مدیریت محصولات
- [ ] سفارش‌گیری و سفارشی‌سازی
- [ ] مدیریت تولید
- [ ] مدیریت انبار
- [ ] مدیریت نمایندگی‌ها
- [ ] خدمات پس از فروش
- [ ] مدیریت منابع انسانی
- [ ] گزارش‌گیری

### ✅ **مرحله 7: ورک‌فلوها (n8n Integration)**
- [ ] تنظیم اتصال به n8n
- [ ] ورک‌فلو سفارش‌گیری
- [ ] ورک‌فلو تایید درخواست‌ها
- [ ] ورک‌فلو خدمات پس از فروش
- [ ] ورک‌فلو مدیریت تولید
- [ ] اعلان‌های خودکار

### ✅ **مرحله 8: ویژگی‌های پیشرفته**
- [ ] سیستم کش‌بک و جوایز
- [ ] تحلیل فروش
- [ ] گزارش‌گیری پیشرفته
- [ ] Export به Excel/PDF
- [ ] جستجو و فیلتر پیشرفته

### ✅ **مرحله 9: تست و بهینه‌سازی**
- [ ] تست عملکرد
- [ ] بهینه‌سازی سرعت
- [ ] تست امنیتی
- [ ] تست UI/UX

### ✅ **مرحله 10: دیپلوی**
- [ ] آماده‌سازی برای Liara
- [ ] تنظیم Environment Variables
- [ ] دیپلوی دیتابیس
- [ ] دیپلوی اپلیکیشن
- [ ] تست نهایی

## 🗂 **ساختار پوشه‌ها:**
```
mobleman-tehran/
├── app/                    # Next.js App Router
│   ├── (auth)/            # صفحات احراز هویت
│   ├── dashboard/         # صفحات اصلی
│   ├── api/              # API Routes
│   └── globals.css       # استایل‌های کلی
├── components/            # کامپوننت‌های قابل استفاده مجدد
│   ├── ui/               # کامپوننت‌های UI
│   ├── forms/            # فرم‌ها
│   └── layout/           # Layout ها
├── lib/                  # توابع کمکی
│   ├── auth.ts          # JWT و bcrypt احراز هویت
│   ├── db.ts            # اتصال دیتابیس
│   └── utils.ts         # توابع کمکی
├── prisma/              # Prisma Schema و Migration ها
├── public/              # فایل‌های استاتیک
└── types/               # TypeScript Types
```

## 🔐 **نقش‌ها و دسترسی‌ها:**

### **Admin (مدیرکل):**
- دسترسی کامل به تمام بخش‌ها
- مدیریت کاربران و نقش‌ها
- تنظیمات سیستم

### **Manager (مدیر):**
- مدیریت بخش مربوطه
- تایید درخواست‌ها
- گزارش‌گیری

### **Employee (کارمند):**
- ورود اطلاعات
- مشاهده کارهای محوله
- درخواست مرخصی/وام

### **Customer (مشتری):**
- مشاهده سفارشات
- سفارش‌گیری
- درخواست خدمات

### **Dealer (نماینده):**
- مدیریت مشتریان
- سفارش‌گیری
- مشاهده کمیسیون

## 🔄 **ورک‌فلوهای اصلی:**

### **1. سفارش‌گیری:**
```
مشتری → انتخاب محصول → سفارشی‌سازی → تایید → تولید → تحویل
```

### **2. درخواست کارکنان:**
```
کارمند → درخواست → سرپرست → مدیر → HR → تایید
```

### **3. خدمات پس از فروش:**
```
مشتری → درخواست → بررسی → اقدام → پیگیری → تکمیل
```

## 📊 **گزارش‌های مورد نیاز:**
- گزارش فروش روزانه/ماهانه
- گزارش تولید
- گزارش نمایندگی‌ها
- گزارش خدمات پس از فروش
- گزارش منابع انسانی

## 🚀 **نکات دیپلوی:**
- استفاده از Node.js در Liara
- تنظیم Environment Variables
- اتصال به PostgreSQL در Liara
- تنظیم n8n در سرور جداگانه

## 📱 **ویژگی‌های UI/UX:**
- طراحی Responsive
- پشتیبانی از زبان فارسی (راست‌چین)
- استفاده از Bootstrap 5
- اعلان‌های SweetAlert2
- سیستم نوتیفیکیشن notifr
- طراحی RTL (راست به چپ) برای فارسی

---

**تاریخ شروع:** [تاریخ]
**تاریخ پایان پیش‌بینی شده:** [تاریخ]
**وضعیت:** در حال توسعه
